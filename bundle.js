!function(e){var t={};function n(a){if(t[a])return t[a].exports;var i=t[a]={i:a,l:!1,exports:{}};return e[a].call(i.exports,i,i.exports,n),i.l=!0,i.exports}n.m=e,n.c=t,n.d=function(e,t,a){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:a})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var a=Object.create(null);if(n.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var i in e)n.d(a,i,function(t){return e[t]}.bind(null,i));return a},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=0)}([function(e,t,n){"use strict";function a(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}n.r(t);var i=function(){function e(t,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.type=n,this.stage=t,this.bin=this.draw(t)}var t,n,i;return t=e,(n=[{key:"draw",value:function(){if("compost"===this.type){var e=new createjs.Bitmap("./assets/images/green_bin.png");e.x=100,e.y=300;var t=new createjs.Text("COMPOST","bold 28px Arial","#FFFFFF");return t.textAlign="left",t.textBaseline="middle",t.x=80,t.y=450,this.stage.addChild(e,t),e}if("recycle"===this.type){var n=new createjs.Bitmap("./assets/images/blue_bin.png");n.x=300,n.y=300;var a=new createjs.Text("RECYCLE","bold 28px Arial","#FFFFFF");return a.textAlign="left",a.textBaseline="middle",a.x=300,a.y=450,this.stage.addChild(n,a),n}if("landfill"===this.type){var i=new createjs.Bitmap("./assets/images/black_bin.png");i.x=500,i.y=300;var s=new createjs.Text("LANDFILL","bold 28px Arial","#FFFFFF");return s.textAlign="left",s.textBaseline="middle",s.x=500,s.y=450,this.stage.addChild(i,s),i}}}])&&a(t.prototype,n),i&&a(t,i),e}();function s(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}var r=function(){function e(t,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.type=n,this.stage=t,this.waste=this.draw(t)}var t,n,a;return t=e,(n=[{key:"randomPosition",value:function(){}},{key:"draw",value:function(){var e;if("compost"===this.type){var t=Math.floor(15*Math.random());e=new createjs.Bitmap("./assets/images/compost_".concat(t,".png"))}else if("recycle"===this.type){var n=Math.floor(20*Math.random());e=new createjs.Bitmap("./assets/images/recycle_".concat(n,".png"))}else if("landfill"===this.type){var a=Math.floor(10*Math.random());e=new createjs.Bitmap("./assets/images/landfill_".concat(a,".png"))}return e.x=-200,e.scaleX=.2,e.scaleY=.2,e.width=e.image.width*e.scaleX,e.height=e.image.height*e.scaleY,e.cursor="pointer",e.on("mousedown",(function(e){this.stage.addChild(this),this.offset={x:this.x-e.stageX,y:this.y-e.stageY}})),e.on("pressmove",(function(e){this.x=e.stageX+this.offset.x,this.y=e.stageY+this.offset.y})),e.on("rollover",(function(e){this.scaleX=.25,this.scaleY=.25})),e.on("rollout",(function(e){this.scaleX=.2,this.scaleY=.2})),e.on("tick",(function(){return e.x+=2})),this.stage.addChild(e),e}}])&&s(t.prototype,n),a&&s(t,a),e}();function o(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}var c=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.stage=t,this.waste=[],this.bins=[],this.scoreVal=0,this.timerSecs=60,this.timerVar={},this.generateWasteVar={},this.muted=!1,createjs.Ticker.framerate=60,createjs.Ticker.addEventListener("tick",t),this.initializeSounds(),this.initialScreen(t)}var t,n,a;return t=e,(n=[{key:"initializeSounds",value:function(){var e=this;this.soundOnButton=new createjs.Bitmap("./assets/images/volume_on.png"),this.soundOffButton=new createjs.Bitmap("./assets/images/mute.png"),this.soundOnButton.x=350,this.soundOnButton.y=460,this.soundOnButton.scaleX=.75,this.soundOnButton.scaleY=.75,this.soundOffButton.x=350,this.soundOffButton.y=465,this.soundOffButton.scaleX=.6,this.soundOffButton.scaleY=.6,this.soundOnButton.addEventListener("click",(function(){return e.toggleSound(e.stage)})),this.soundOffButton.addEventListener("click",(function(){return e.toggleSound(e.stage)})),createjs.Sound.registerSound("assets/sounds/correct.mp3","correct"),createjs.Sound.registerSound("assets/sounds/incorrect.mp3","incorrect"),createjs.Sound.registerSound("assets/sounds/hungboo.mp3","hungboo")}},{key:"initialScreen",value:function(){var e=this;createjs.Ticker.addEventListener("tick",this.stage);var t=new createjs.Text("Click to Play","bold 50px Arial","#FFFFFF");t.textAlign="center",t.textBaseline="middle",t.x=canvas.width/2,t.y=canvas.height/8,t.cursor="pointer",this.stage.addChild(t,this.volButton,this.soundOnButton),canvas.onclick=function(){e.stage.removeChild(t),e.prePlayInfo(e.stage)}}},{key:"prePlayInfo",value:function(){var e=this,t=new createjs.Text("Drag trash to the right bin and earn points!","bold 30px Arial","#FFFFFF");t.textAlign="center",t.textBaseline="middle",t.x=canvas.width/2,t.y=canvas.height/8,t.pointer="cursor";var n=new createjs.Text("Click anywhere to start game","bold 28px Arial","#FFFFFF");n.textAlign="center",n.textBaseline="middle",n.x=canvas.width/2,n.y=t.y+40,this.createBins(this.stage),this.stage.addChild(t,n),canvas.onclick=function(){canvas.onclick=null,e.stage.removeChild(t,n),e.startGame(e.stage)}}},{key:"startGame",value:function(e){var t=this;this.createWaste(e),this.generateWaste(e),this.createScoreboard(e),this.score=this.updateScore(e),this.timer=this.startTimer(e),this.tickTimer(e),createjs.Ticker.addEventListener("tick",(function(){return console.log("TICK!")})),createjs.Ticker.addEventListener("tick",(function(){return t.wrapCheck(e)})),createjs.Ticker.addEventListener("tick",(function(){return t.collisionCheck(e)})),createjs.Ticker.addEventListener("tick",(function(){return t.gameOver(e)})),createjs.Sound.play("hungboo",{interrupt:createjs.Sound.INTERRUPT_ANY,loop:-1,volume:.1})}},{key:"createBins",value:function(e){var t=new i(e,"compost");this.bins.push(t);var n=new i(e,"recycle");this.bins.push(n);var a=new i(e,"landfill");this.bins.push(a)}},{key:"createWaste",value:function(e){var t=["compost","recycle","recycle","landfill"][Math.floor(4*Math.random())],n=new r(e,t);this.waste.push(n)}},{key:"generateWaste",value:function(e){var t=this;this.generateWasteVar=setInterval((function(){return t.createWaste(e)}),1500)}},{key:"collisionCheck",value:function(e){var t=this;this.waste.forEach((function(n,a){var i=n.waste.image.height*n.waste.scaleY,s=n.waste.y+i/3;t.bins.forEach((function(i){var r=n.waste.x,o=i.bin.image.width,c=i.bin.image.height,l=i.bin.x-o/2,u=i.bin.x+o/3,d=i.bin.y-c/3;r>l&&r<u&&s>d&&(n.type===i.type?(e.removeChild(n.waste),t.waste.splice(a,1),createjs.Sound.play("correct"),t.scoreVal+=10,t.updateScore(e)):(e.removeChild(n.waste),t.waste.splice(a,1),createjs.Sound.play("incorrect"),t.scoreVal-=10,t.updateScore(e)))}),t)}),this)}},{key:"wrapCheck",value:function(e){var t=this;this.waste.forEach((function(n,a){n.waste.x+n.waste.image.width*n.waste.scaleX/2>e.canvas.width&&(e.removeChild(n.waste),t.waste.splice(a,1),createjs.Sound.play("incorrect"),t.scoreVal-=10,t.updateScore(e))}))}},{key:"createScoreboard",value:function(e){var t=new createjs.Text("SCORE","bold 24px Arial","#FFFFFF");t.textAlign="right",t.textBaseline="middle",t.x=canvas.width-20,t.y=canvas.height-100,e.addChild(t)}},{key:"updateScore",value:function(e){e.removeChild(this.score);var t=new createjs.Text("".concat(this.scoreVal),"bold 100px Arial","#FFFFFF");return t.textAlign="right",t.textBaseline="middle",t.x=canvas.width-15,t.y=canvas.height-40,e.addChild(t),this.score=t,t}},{key:"startTimer",value:function(e){e.removeChild(this.timer);var t,n,a,i,s,r=new createjs.Text("".concat((t=this.timerSecs,i=Math.floor(t/60),s=t%60,n=i<10?"0".concat(i):i,a=s<10?"0".concat(s):s,"".concat(n,":").concat(a))),"40px Arial","#FFFFFF");return r.textAlign="right",r.textBaseline="middle",r.x=120,r.y=canvas.height-20,e.addChild(r),this.timer=r,r}},{key:"tickTimer",value:function(e){var t=this;this.timerVar=setInterval((function(){t.timerSecs-=1,t.startTimer(e)}),1e3)}},{key:"gameOver",value:function(e){if(0===this.timerSecs){clearInterval(this.timerVar),clearInterval(this.generateWasteVar),this.waste.forEach((function(t){return e.removeChild(t.waste)}),this);var t=new createjs.Text("GAME OVER","bold 50px Arial","#FFFFFF");t.textAlign="center",t.textBaseline="middle",t.x=canvas.width/2,t.y=canvas.height/5;var n=new createjs.Bitmap("./assets/images/play_again_button.png");n.scaleX=.3,n.scaleY=.3,n.x=300,n.y=t.y+40,n.cursor="pointer",n.on("mousedown",(function(){return window.location.reload()})),e.addChild(t,n)}}},{key:"toggleSound",value:function(e){this.muted?(this.muted=!1,createjs.Sound.muted=!1,e.removeChild(this.soundOffButton),e.addChild(this.soundOnButton)):(this.muted=!0,createjs.Sound.muted=!0,e.removeChild(this.soundOnButton),e.addChild(this.soundOffButton))}}])&&o(t.prototype,n),a&&o(t,a),e}();document.addEventListener("DOMContentLoaded",(function(){var e=document.getElementById("canvas");e.cache;var t=new createjs.Stage(e);createjs.Touch.enable(t),t.enableMouseOver(10),t.mouseMoveOutside=!0;new c(t,e)}))}]);
//# sourceMappingURL=bundle.js.map