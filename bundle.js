!function(e){var t={};function a(n){if(t[n])return t[n].exports;var r=t[n]={i:n,l:!1,exports:{}};return e[n].call(r.exports,r,r.exports,a),r.l=!0,r.exports}a.m=e,a.c=t,a.d=function(e,t,n){a.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},a.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},a.t=function(e,t){if(1&t&&(e=a(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(a.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)a.d(n,r,function(t){return e[t]}.bind(null,r));return n},a.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return a.d(t,"a",t),t},a.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},a.p="",a(a.s=0)}([function(e,t,a){"use strict";function n(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}a.r(t);var r=function(){function e(t,a){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.type=a,this.stage=t,this.bin=this.draw(t)}var t,a,r;return t=e,(a=[{key:"draw",value:function(){if("compost"===this.type){var e=new createjs.Bitmap("./assets/images/green_bin.png");return e.x=100,e.y=300,this.stage.addChild(e),e}if("recycle"===this.type){var t=new createjs.Bitmap("./assets/images/blue_bin.png");return t.x=300,t.y=300,this.stage.addChild(t),t}if("landfill"===this.type){var a=new createjs.Bitmap("./assets/images/black_bin.png");return a.x=500,a.y=300,this.stage.addChild(a),a}}}])&&n(t.prototype,a),r&&n(t,r),e}();function i(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}var s=function(){function e(t,a){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.type=a,this.stage=t,this.waste=this.draw(t)}var t,a,n;return t=e,(a=[{key:"randomPosition",value:function(){}},{key:"draw",value:function(){var e;if("compost"===this.type){var t=Math.floor(15*Math.random());e=new createjs.Bitmap("./assets/images/compost_".concat(t,".png"))}else if("recycle"===this.type){var a=Math.floor(20*Math.random());e=new createjs.Bitmap("./assets/images/recycle_".concat(a,".png"))}else if("landfill"===this.type){var n=Math.floor(10*Math.random());e=new createjs.Bitmap("./assets/images/landfill_".concat(n,".png"))}return e.x=-200,e.scaleX=.2,e.scaleY=.2,e.width=e.image.width*e.scaleX,e.height=e.image.height*e.scaleY,e.cursor="pointer",e.on("mousedown",(function(e){this.stage.addChild(this),this.offset={x:this.x-e.stageX,y:this.y-e.stageY}})),e.on("pressmove",(function(e){this.x=e.stageX+this.offset.x,this.y=e.stageY+this.offset.y})),e.on("rollover",(function(e){this.scaleX=.25,this.scaleY=.25})),e.on("rollout",(function(e){this.scaleX=.2,this.scaleY=.2})),e.on("tick",(function(){return e.x+=2})),this.stage.addChild(e),e}}])&&i(t.prototype,a),n&&i(t,n),e}();function c(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}var o=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.waste=[],this.scoreVal=0,this.timerSecs=60,this.bins=[],this.timerVar={},this.generateWasteVar={},this.initialScreen(t),createjs.Ticker.framerate=60,createjs.Sound.registerSound("assets/sounds/correct.mp3","correct"),createjs.Sound.registerSound("assets/sounds/incorrect.mp3","incorrect"),createjs.Sound.registerSound("assets/sounds/hungboo.mp3","hungboo"),createjs.Ticker.addEventListener("tick",t)}var t,a,n;return t=e,(a=[{key:"initialScreen",value:function(e){var t=this;createjs.Ticker.addEventListener("tick",e);var a=new createjs.Text("Click to Play","bold 50px Arial","#FFFFFF");a.textAlign="center",a.textBaseline="middle",a.x=canvas.width/2,a.y=canvas.height/8,a.cursor="pointer",e.addChild(a),canvas.onclick=function(){e.removeChild(a),t.prePlayInfo(e)}}},{key:"prePlayInfo",value:function(e){var t=this,a=new createjs.Text("Drag trash to the right bin and earn points!","bold 30px Arial","#FFFFFF");a.textAlign="center",a.textBaseline="middle",a.x=canvas.width/2,a.y=canvas.height/8,a.pointer="cursor";var n=new createjs.Text("Click anywhere to start game","bold 28px Arial","#FFFFFF");n.textAlign="center",n.textBaseline="middle",n.x=canvas.width/2,n.y=a.y+40;var r=new createjs.Text("COMPOST","bold 28px Arial","#FFFFFF");r.textAlign="left",r.textBaseline="middle",r.x=80,r.y=450;var i=new createjs.Text("RECYCLE","bold 28px Arial","#FFFFFF");i.textAlign="left",i.textBaseline="middle",i.x=300,i.y=450;var s=new createjs.Text("LANDFILL","bold 28px Arial","#FFFFFF");s.textAlign="left",s.textBaseline="middle",s.x=500,s.y=450,this.createBins(e),e.addChild(a,n,r,i,s),canvas.onclick=function(){canvas.onclick=null,e.removeChild(a,n,r,i,s),t.startGame(e)}}},{key:"startGame",value:function(e){var t=this;this.createWaste(e),this.generateWaste(e),this.createScoreboard(e),this.score=this.updateScore(e),this.timer=this.startTimer(e),this.tickTimer(e),createjs.Ticker.addEventListener("tick",(function(){return console.log("TICK!")})),createjs.Ticker.addEventListener("tick",(function(){return t.wrapCheck(e)})),createjs.Ticker.addEventListener("tick",(function(){return t.collisionCheck(e)})),createjs.Ticker.addEventListener("tick",(function(){return t.gameOver(e)})),createjs.Sound.play("hungboo",{interrupt:createjs.Sound.INTERRUPT_ANY,loop:-1,volume:.1})}},{key:"createBins",value:function(e){var t=new r(e,"compost");this.bins.push(t);var a=new r(e,"recycle");this.bins.push(a);var n=new r(e,"landfill");this.bins.push(n)}},{key:"createWaste",value:function(e){var t=["compost","recycle","recycle","landfill"][Math.floor(4*Math.random())],a=new s(e,t);this.waste.push(a)}},{key:"generateWaste",value:function(e){var t=this;this.generateWasteVar=setInterval((function(){return t.createWaste(e)}),1500)}},{key:"collisionCheck",value:function(e){var t=this;this.waste.forEach((function(a,n){var r=a.waste.image.height*a.waste.scaleY,i=a.waste.y+r/3;t.bins.forEach((function(r){var s=a.waste.x,c=r.bin.image.width,o=r.bin.image.height,l=r.bin.x-c/2,u=r.bin.x+c/3,h=r.bin.y-o/3;s>l&&s<u&&i>h&&(a.type===r.type?(e.removeChild(a.waste),t.waste.splice(n,1),createjs.Sound.play("correct"),t.scoreVal+=10,t.updateScore(e)):(e.removeChild(a.waste),t.waste.splice(n,1),createjs.Sound.play("incorrect"),t.scoreVal-=10,t.updateScore(e)))}),t)}),this)}},{key:"wrapCheck",value:function(e){var t=this;this.waste.forEach((function(a,n){a.waste.x+a.waste.image.width*a.waste.scaleX/2>e.canvas.width&&(e.removeChild(a.waste),t.waste.splice(n,1),createjs.Sound.play("incorrect"),t.scoreVal-=10,t.updateScore(e))}))}},{key:"createScoreboard",value:function(e){var t=new createjs.Text("SCORE","bold 24px Arial","#FFFFFF");t.textAlign="right",t.textBaseline="middle",t.x=canvas.width-20,t.y=canvas.height-100,e.addChild(t)}},{key:"updateScore",value:function(e){e.removeChild(this.score);var t=new createjs.Text("".concat(this.scoreVal),"bold 100px Arial","#FFFFFF");return t.textAlign="right",t.textBaseline="middle",t.x=canvas.width-15,t.y=canvas.height-40,e.addChild(t),this.score=t,t}},{key:"startTimer",value:function(e){e.removeChild(this.timer);var t,a,n,r,i,s=new createjs.Text("".concat((t=this.timerSecs,r=Math.floor(t/60),i=t%60,a=r<10?"0".concat(r):r,n=i<10?"0".concat(i):i,"".concat(a,":").concat(n))),"40px Arial","#FFFFFF");return s.textAlign="right",s.textBaseline="middle",s.x=120,s.y=canvas.height-20,e.addChild(s),this.timer=s,s}},{key:"tickTimer",value:function(e){var t=this;this.timerVar=setInterval((function(){t.timerSecs-=1,t.startTimer(e)}),1e3)}},{key:"gameOver",value:function(e){if(0===this.timerSecs){clearInterval(this.timerVar),clearInterval(this.generateWasteVar),this.waste.forEach((function(t){return e.removeChild(t.waste)}),this);var t=new createjs.Text("GAME OVER","bold 50px Arial","#FFFFFF");t.textAlign="center",t.textBaseline="middle",t.x=canvas.width/2,t.y=canvas.height/5;var a=new createjs.Bitmap("./assets/images/play_again_button.png");a.scaleX=.3,a.scaleY=.3,a.x=300,a.y=t.y+40,a.cursor="pointer",a.on("mousedown",(function(){return window.location.reload()})),e.addChild(t,a)}}}])&&c(t.prototype,a),n&&c(t,n),e}();document.addEventListener("DOMContentLoaded",(function(){var e=document.getElementById("canvas");e.cache;var t=new createjs.Stage(e);createjs.Touch.enable(t),t.enableMouseOver(10),t.mouseMoveOutside=!0;new o(t,e)}))}]);
//# sourceMappingURL=bundle.js.map